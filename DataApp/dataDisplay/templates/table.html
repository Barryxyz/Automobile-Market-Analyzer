{% load staticfiles %}

<!doctype html>
<html lang="en">
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
<script type='text/javascript' src="{% static "js/inspect.js" %}"></script>
<link rel="stylesheet" href={% static "css/voters.css" %}>
<link rel="stylesheet" href={% static "css/main.css" %}>
<link rel="stylesheet" href={% static "css/footer.css" %}>
<link rel="stylesheet" href={% static "css/ionicons.min.css" %}>

<head>
<script>
function findCountry() {
  // Declare variables for search function for countries
  var input, filter, table, tr, td, i;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  tr = table.getElementsByTagName("tr");

  // Loop through all table rows, and hide those who don't match the search query
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[1];
    tm = tr[i].getElementsByTagName("td")[2];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}

function findModel() {
  // Declare variables and search function for models
  var input, filter, table, tr, td, i;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  tr = table.getElementsByTagName("tr");

  // Loop through all table rows, and hide those who don't match the search query
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[2];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}

</script>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="##">Home</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="#"></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Data Table</a>
          </li>
    </ul>
    {% if user.is_authenticated %}
      <li class="nav navbar-nav navbar-right">
              <h6 style="color:white">Logged in as: {{ user.username }}</h6>
            </li>
      &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp <!-- alignment members -->
        <li class="nav navbar-nav navbar-right">
              <a class="nav-link" href="#">Logout</a>
            </li>
    {% else %}
    <li class="nav navbar-nav navbar-right">
    </li>
    {% endif %}
      </div>
    </nav>
  <br>
<!-- Data Table and where it needs to be edited to add more fields -->
<h1 style="color:black;" align="center">Sales</h1>
  <br>

<div id="padder" align="center">
  <h6 style="color:black">*Currently only search for country works correctly*</h6>
<input type="text" id="myInput" onkeyup="findCountry()" placeholder="Search for Country...">
<input type="text" id="myInput" onkeyup="findModel()" placeholder="Search for Model...">
<table id="myTable">
  <tr class="header">
    <th style="width:20%;">Id</th>
    <th style="width:20%;">Import Country</th>
  <th style="width:20%;">Model</th>
    <th style="width:20%;">Make</th>
    <th style="width:20%;">Seller</th>
    <th style="width:20%;">Price</th>
  </tr>
  {% for item in query_results %}
  <tr>
    <td>{{ item.ID }}</td>
    <td>{{ item.import_country }}</td>
  <td>{{ item.model }}</td>
  <td>{{ item.make }}</td>
  <td>{{ item.sold_by }}</td>
  <td>{{ item.sale_price }}</td>
  </tr>
  {% endfor %}
</table>
</div>

<!-- Footer -->
<div class="footer-dark">
       <footer>
           <div class="container">
               <div class="row">
                   <div class="col-sm-6 col-md-3 item">
                       <h3>Services</h3>
                   </div>
                   <div class="col-sm-6 col-md-3 item">
                       <ul>
                       </ul>
                   </div>
                   <div class="col-md-6 item text">
                   </div>
                   <div class="col item social">
                     <a href="#">
                     </a>
                   </div>
               </div>
               <p class="copyright">Vandelay Industries &copy; 2017</p>
           </div>
       </footer>
   </div>
</div>
</body>
    <script src="{% static "js/jquery.min.js" %}"></script>
    <script src="{% static "js/bootstrap.min.js" %}"></script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</html>
